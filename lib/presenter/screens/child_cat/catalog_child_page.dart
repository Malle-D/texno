import 'package:flutter/material.dart';import 'package:flutter_bloc/flutter_bloc.dart';import 'package:flutter_svg/svg.dart';import 'package:google_fonts/google_fonts.dart';import 'package:texno/presenter/screens/selected/selected.dart';import '../../../data/model/categories/all_categories_model.dart';import '../selected/bloc/selected_bloc.dart';import 'bloc/catalog_child_bloc.dart';class CatalogChildPage extends StatelessWidget {  final List<AllCategoriesItemChild> data;  final String name;  const CatalogChildPage({super.key, required this.data, required this.name});  @override  Widget build(BuildContext context) {    return BlocProvider(      create: (context) => CatalogChildBloc(),      child: BlocConsumer<CatalogChildBloc, CatalogChildState>(        listener: (context, state) {          if (state is ClickItemForSlugState) {            Navigator.push(                context,                MaterialPageRoute(                    builder: (context) =>                        BlocProvider(                          create: (context) => SelectedBloc(),                          child: SelectedScreen(state.slug),                        )));          }        },        builder: (context, state) {          return Scaffold(            appBar: AppBar(              backgroundColor: const Color(0xFFfbc100),              title: Text('Katalog',                  textAlign: TextAlign.start,                  style: GoogleFonts.poppins(                      fontWeight: FontWeight.w700, fontSize: 14)),            ),            body: SafeArea(              child: ListView.builder(                  itemCount: data.length,                  itemBuilder: (context, index) {                    return Padding(                      padding: const EdgeInsets.symmetric(vertical: 3.0),                      child: catalogChildItem(data[index].name ?? '', () {                        context.read<CatalogChildBloc>().add(                            ClickItemForSlugEvent(data[index].name ?? '',                                data[index].slug ?? ''));                      }),                    );                  }),            ),          );        },      ),    );  }  Widget catalogChildItem(String title, void Function() onClick) {    return Padding(      padding: const EdgeInsets.symmetric(horizontal: 16.0),      child: InkWell(        highlightColor: const Color(0xFFfbc100).withAlpha(60),        splashColor: const Color(0xFFfbc100).withAlpha(60),        onTap: onClick,        child: Padding(          padding: const EdgeInsets.symmetric(vertical: 10.0),          child: Row(            children: [              Text(                softWrap: true,                title,                style: const TextStyle(fontWeight: FontWeight.w500),              ),              const Spacer(),              SvgPicture.asset('assets/icons/ic_right_arrow.svg')            ],          ),        ),      ),    );  }}